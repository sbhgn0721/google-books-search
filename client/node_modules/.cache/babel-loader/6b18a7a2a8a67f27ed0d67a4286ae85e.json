{"ast":null,"code":"var _jsxFileName = \"/Users/hongliaoxiong/Desktop/UWBootcamp/HW/google-books-search/google-books-search/google-books-search/client/src/pages/HomePage.js\";\nimport React, { Component } from \"react\";\nimport API from \"../utils/API\";\nimport BookSearch from \"../components/BookSearch/BookSearch\";\nimport SearchResults from \"../components/SearchResults\";\n\nclass HomePage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      search: \"\",\n      books: []\n    };\n\n    this.handleInputChange = event => {\n      this.setState({\n        search: event.target.value\n      });\n    };\n\n    this.handleFormSumbmit = event => {\n      event.preventDefault();\n      API.googleBooksSearch(this.state.search).then(res => {\n        let results = res.data.items;\n        results = results.map(result => {\n          result = {\n            key: result.id,\n            id: result.id,\n            title: result.volumeInfo.title,\n            author: result.volumeInfo.authors,\n            description: result.volumeInfo.description,\n            image: result.volumeInfo.imageLinks.thumbnail,\n            link: result.volumeInfo.infoLink\n          };\n          return result;\n        });\n        this.setState({\n          books: results\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.handleSavedButton = event => {\n      event.preventDefault();\n      console.log(this.state.books);\n      let savedBooks = this.state.books.filter(book => book.id === event.target.id);\n      savedBooks = savedBooks[0];\n      API.saveBook(savedBooks).then(this.setSate({\n        message: alert(\"Your book is saved!\")\n      })).catch(err => console.log(err));\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(BookSearch, {\n      handleFormSumbmit: this.handleFormSumbmit,\n      handleInputChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(SearchResults, {\n      books: this.state.books,\n      handleSavedButton: this.handleSavedButton,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default HomePage;","map":{"version":3,"sources":["/Users/hongliaoxiong/Desktop/UWBootcamp/HW/google-books-search/google-books-search/google-books-search/client/src/pages/HomePage.js"],"names":["React","Component","API","BookSearch","SearchResults","HomePage","state","search","books","handleInputChange","event","setState","target","value","handleFormSumbmit","preventDefault","googleBooksSearch","then","res","results","data","items","map","result","key","id","title","volumeInfo","author","authors","description","image","imageLinks","thumbnail","link","infoLink","catch","err","console","log","handleSavedButton","savedBooks","filter","book","saveBook","setSate","message","alert","render"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport API from \"../utils/API\";\nimport BookSearch from \"../components/BookSearch/BookSearch\";\nimport SearchResults from \"../components/SearchResults\"\n\n\nclass HomePage extends Component {\n    state = {\n        search: \"\",\n        books: []\n        \n    }\n\n\nhandleInputChange =  event => {\n    this.setState({ search: event.target.value })\n}\n\nhandleFormSumbmit =  event => {\n    event.preventDefault();\n    API.googleBooksSearch(this.state.search)\n    .then(res => {\n        let results = res.data.items\n        results = results.map(result => {\n            result = {\n                key: result.id,\n                id: result.id,\n                title: result.volumeInfo.title,\n                author: result.volumeInfo.authors,\n                description: result.volumeInfo.description,\n                image: result.volumeInfo.imageLinks.thumbnail,\n                link: result.volumeInfo.infoLink\n            }\n            return result;\n        })\n        this.setState({books: results})\n    })\n    .catch(err => console.log(err))\n}\n\nhandleSavedButton = event => {\n    event.preventDefault();\n    console.log(this.state.books)\n    let savedBooks =  this.state.books.filter(book => book.id === event.target.id)\n    savedBooks = savedBooks[0];\n    API.saveBook(savedBooks)\n    .then(this.setSate({message: alert(\"Your book is saved!\")}))\n    .catch(err => console.log(err))\n}\n\nrender() {\n    return(\n    <div>\n        <BookSearch\n        handleFormSumbmit={this.handleFormSumbmit}\n        handleInputChange={this.handleInputChange}\n        />\n        <SearchResults books={this.state.books} handleSavedButton={this.handleSavedButton}\n        />\n    </div>\n    )\n    \n}\n\n}\n\nexport default HomePage"]},"metadata":{},"sourceType":"module"}